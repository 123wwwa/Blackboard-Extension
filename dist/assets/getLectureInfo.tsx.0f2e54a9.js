const u=()=>new Promise(c=>{if(document.querySelector('div[id*="22_1termCourses"]'))return c(document.querySelector('div[id*="22_1termCourses"]'));const o=new MutationObserver(t=>{document.querySelector('div[id*="22_1termCourses"]')&&(c(document.querySelector('div[id*="22_1termCourses"]')),o.disconnect())});o.observe(document.body,{childList:!0,subtree:!0})}),i=()=>{for(var c=document.getElementsByTagName("a"),o=document.querySelector('ul[class*="portletList-img courseListing coursefakeclass"]'),t={},n=0;n<c.length;n+=1){const s=c[n].parentElement.parentElement;if(c[n].href.includes("/webapps/blackboard/execute/launcher")&&!c[n].className.includes("button")&&s==o){const m=new URL(c[n].href);var l={name:c[n].text,link:c[n].href,id:m.searchParams.get("id")};t[c[n].text.split(":")[0].split("_")[1]]=l}}fetch(window.chrome.runtime.getURL("src/assets/lectureInfo.json")).then(r=>r.json()).then(function(r){for(var e in t)r[e]==null?delete t[e]:(t[e].name=r[e].name,t[e].time=r[e].time,t[e].professor=r[e].professor,r[e].timeplace0&&(t[e].timeplace0=r[e].timeplace0),r[e].timeplace1&&(t[e].timeplace1=r[e].timeplace1),r[e].timeplace2&&(t[e].timeplace2=r[e].timeplace2));console.log(t),window.chrome.storage.sync.set({lectureInfo:JSON.stringify(t)},()=>{})})};u().then(c=>{window.chrome.storage.sync.get(["lectureInfo"],function(o){if(console.log(o.lectureInfo),o.lectureInfo==null&&o.lectureInfo==null)i();else{var t=JSON.parse(o.lectureInfo);(!t||Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype)&&i()}})});
